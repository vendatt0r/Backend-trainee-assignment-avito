# Сервис для работы с ПВЗ

## Описание
На ПВЗ несколько раз в день привозят новые товары, которые были заказаны через Авито. Прежде чем их отдавать заказчику, необходимо сначала проверить и внести информацию в базу. Из-за того, что ПВЗ много, а товаров ещё больше, нужно реализовать механизм, позволяющий в разрезе каждого ПВЗ увидеть, сколько раз в день к ним приезжали товары на приёмку и какие товары были получены.

## Стек
Python, FastAPI, PostgreSQL

### До запуска
- Необходимо установить PostgreSQL
- Создать БД с названием pvz (либо свое название, но тогда поменять url в файле db.py)
- Создать пользователя postgres с паролем 123 (либо свои данные, но тогда поменять url в файле db.py)

### Запуск локально, без использования Docker

Прежде чем запускать приложение, убедитесь, что у вас установлены необходимые зависимости. 
```bash
pip install -r requirements.txt
```
Запуск:
```bash
python run.py
```
Приложение будет доступно по адресу: http://localhost:8080.

### Запуск с использованием Docker

```bash
docker-compose up --build
```

После успешного запуска контейнеров, приложение будет доступно по адресу: http://localhost:8080.

Swagger с описанием всех эндпоинтов и требований к запросам будет доступен по адресу: http://localhost:8080/docs.

### Запуск интеграционного теста

```bash
pytest test_intake_flow.py
```

### Запуск unit-тестов

```bash
pytest --cov=services --cov=routers tests/
```
